{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nimport qs from 'qs';\nimport { createDocumentationLink, safelyRunOnBrowser, warning } from \"../utils/index.js\";\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    // This function is only executed on browsers so we can disable this check.\n    // eslint-disable-next-line no-restricted-globals\n    window.document.title = title;\n  }\n};\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var _this = this;\n    var windowTitle = _ref.windowTitle,\n      _ref$writeDelay = _ref.writeDelay,\n      writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n      createURL = _ref.createURL,\n      parseURL = _ref.parseURL,\n      getLocation = _ref.getLocation,\n      start = _ref.start,\n      dispose = _ref.dispose,\n      push = _ref.push,\n      cleanUrlOnDispose = _ref.cleanUrlOnDispose;\n    _classCallCheck(this, BrowserHistory);\n    _defineProperty(this, \"$$type\", 'ais.browser');\n    /**\n     * Transforms a UI state into a title for the page.\n     */\n    _defineProperty(this, \"windowTitle\", void 0);\n    /**\n     * Time in milliseconds before performing a write in the history.\n     * It prevents from adding too many entries in the history and\n     * makes the back button more usable.\n     *\n     * @default 400\n     */\n    _defineProperty(this, \"writeDelay\", void 0);\n    /**\n     * Creates a full URL based on the route state.\n     * The storage adaptor maps all syncable keys to the query string of the URL.\n     */\n    _defineProperty(this, \"_createURL\", void 0);\n    /**\n     * Parses the URL into a route state.\n     * It should be symmetrical to `createURL`.\n     */\n    _defineProperty(this, \"parseURL\", void 0);\n    /**\n     * Returns the location to store in the history.\n     * @default () => window.location\n     */\n    _defineProperty(this, \"getLocation\", void 0);\n    _defineProperty(this, \"writeTimer\", void 0);\n    _defineProperty(this, \"_onPopState\", void 0);\n    /**\n     * Indicates if last action was back/forward in the browser.\n     */\n    _defineProperty(this, \"inPopState\", false);\n    /**\n     * Indicates whether the history router is disposed or not.\n     */\n    _defineProperty(this, \"isDisposed\", false);\n    /**\n     * Indicates the window.history.length before the last call to\n     * window.history.pushState (called in `write`).\n     * It allows to determine if a `pushState` has been triggered elsewhere,\n     * and thus to prevent the `write` method from calling `pushState`.\n     */\n    _defineProperty(this, \"latestAcknowledgedHistory\", 0);\n    _defineProperty(this, \"_start\", void 0);\n    _defineProperty(this, \"_dispose\", void 0);\n    _defineProperty(this, \"_push\", void 0);\n    _defineProperty(this, \"_cleanUrlOnDispose\", void 0);\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    this.getLocation = getLocation;\n    this._start = start;\n    this._dispose = dispose;\n    this._push = push;\n    this._cleanUrlOnDispose = typeof cleanUrlOnDispose === 'undefined' ? true : cleanUrlOnDispose;\n    if (process.env.NODE_ENV === 'development' && typeof cleanUrlOnDispose === 'undefined') {\n      // eslint-disable-next-line no-console\n      console.info(\"Starting from the next major version, InstantSearch will not clean up the URL from active refinements when it is disposed.\\n\\nWe recommend setting `cleanUrlOnDispose` to false to adopt this change today.\\nTo stay with the current behaviour and remove this warning, set the option to true.\\n\\nSee documentation: \".concat(createDocumentationLink({\n        name: 'history-router'\n      }), \"#widget-param-cleanurlondispose\"));\n    }\n    safelyRunOnBrowser(function (_ref2) {\n      var window = _ref2.window;\n      var title = _this.windowTitle && _this.windowTitle(_this.read());\n      setWindowTitle(title);\n      _this.latestAcknowledgedHistory = window.history.length;\n    });\n  }\n\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: this.getLocation()\n      });\n    }\n\n    /**\n     * Pushes a search state into the URL.\n     */\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this2 = this;\n      safelyRunOnBrowser(function (_ref3) {\n        var window = _ref3.window;\n        var url = _this2.createURL(routeState);\n        var title = _this2.windowTitle && _this2.windowTitle(routeState);\n        if (_this2.writeTimer) {\n          clearTimeout(_this2.writeTimer);\n        }\n        _this2.writeTimer = setTimeout(function () {\n          setWindowTitle(title);\n          if (_this2.shouldWrite(url)) {\n            if (_this2._push) {\n              _this2._push(url);\n            } else {\n              window.history.pushState(routeState, title || '', url);\n            }\n            _this2.latestAcknowledgedHistory = window.history.length;\n          }\n          _this2.inPopState = false;\n          _this2.writeTimer = undefined;\n        }, _this2.writeDelay);\n      });\n    }\n\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this3 = this;\n      if (this._start) {\n        this._start(function () {\n          callback(_this3.read());\n        });\n      }\n      this._onPopState = function () {\n        if (_this3.writeTimer) {\n          clearTimeout(_this3.writeTimer);\n          _this3.writeTimer = undefined;\n        }\n        _this3.inPopState = true;\n\n        // We always read the state from the URL because the state of the history\n        // can be incorect in some cases (e.g. using React Router).\n        callback(_this3.read());\n      };\n      safelyRunOnBrowser(function (_ref4) {\n        var window = _ref4.window;\n        window.addEventListener('popstate', _this3._onPopState);\n      });\n    }\n\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch/issues/790\n     */\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      var url = this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: this.getLocation()\n      });\n      if (process.env.NODE_ENV === 'development') {\n        try {\n          // We just want to check if the URL is valid.\n          // eslint-disable-next-line no-new\n          new URL(url);\n        } catch (e) {\n          process.env.NODE_ENV === 'development' ? warning(false, \"The URL returned by the `createURL` function is invalid.\\nPlease make sure it returns an absolute URL to avoid issues, e.g: `https://algolia.com/search?query=iphone`.\") : void 0;\n        }\n      }\n      return url;\n    }\n\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this4 = this;\n      if (this._dispose) {\n        this._dispose();\n      }\n      this.isDisposed = true;\n      safelyRunOnBrowser(function (_ref5) {\n        var window = _ref5.window;\n        if (_this4._onPopState) {\n          window.removeEventListener('popstate', _this4._onPopState);\n        }\n      });\n      if (this.writeTimer) {\n        clearTimeout(this.writeTimer);\n      }\n      if (this._cleanUrlOnDispose) {\n        this.write({});\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this.isDisposed = false;\n    }\n  }, {\n    key: \"shouldWrite\",\n    value: function shouldWrite(url) {\n      var _this5 = this;\n      return safelyRunOnBrowser(function (_ref6) {\n        var window = _ref6.window;\n        // We do want to `pushState` if:\n        // - the router is not disposed, IS.js needs to update the URL\n        // OR\n        // - the last write was from InstantSearch.js\n        // (unlike a SPA, where it would have last written)\n        var lastPushWasByISAfterDispose = !(_this5.isDisposed && _this5.latestAcknowledgedHistory !== window.history.length);\n        return (\n          // When the last state change was through popstate, the IS.js state changes,\n          // but that should not write the URL.\n          !_this5.inPopState &&\n          // When the previous pushState after dispose was by IS.js, we want to write the URL.\n          lastPushWasByISAfterDispose &&\n          // When the URL is the same as the current one, we do not want to write it.\n          url !== window.location.href\n        );\n      });\n    }\n  }]);\n  return BrowserHistory;\n}();\nexport default function historyRouter() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref7$createURL = _ref7.createURL,\n    createURL = _ref7$createURL === void 0 ? function (_ref8) {\n      var qsModule = _ref8.qsModule,\n        routeState = _ref8.routeState,\n        location = _ref8.location;\n      var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n      var queryString = qsModule.stringify(routeState);\n      var portWithPrefix = port === '' ? '' : \":\".concat(port);\n\n      // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n      if (!queryString) {\n        return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n      }\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n    } : _ref7$createURL,\n    _ref7$parseURL = _ref7.parseURL,\n    parseURL = _ref7$parseURL === void 0 ? function (_ref9) {\n      var qsModule = _ref9.qsModule,\n        location = _ref9.location;\n      // `qs` by default converts arrays with more than 20 items to an object.\n      // We want to avoid this because the data structure manipulated can therefore vary.\n      // Setting the limit to `100` seems a good number because the engine's default is 100\n      // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n      //\n      // Using an `arrayLimit` of `n` allows `n + 1` items.\n      //\n      // See:\n      //   - https://github.com/ljharb/qs#parsing-arrays\n      //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n      return qsModule.parse(location.search.slice(1), {\n        arrayLimit: 99\n      });\n    } : _ref7$parseURL,\n    _ref7$writeDelay = _ref7.writeDelay,\n    writeDelay = _ref7$writeDelay === void 0 ? 400 : _ref7$writeDelay,\n    windowTitle = _ref7.windowTitle,\n    _ref7$getLocation = _ref7.getLocation,\n    getLocation = _ref7$getLocation === void 0 ? function () {\n      return safelyRunOnBrowser(function (_ref10) {\n        var window = _ref10.window;\n        return window.location;\n      }, {\n        fallback: function fallback() {\n          throw new Error('You need to provide `getLocation` to the `history` router in environments where `window` does not exist.');\n        }\n      });\n    } : _ref7$getLocation,\n    start = _ref7.start,\n    dispose = _ref7.dispose,\n    push = _ref7.push,\n    cleanUrlOnDispose = _ref7.cleanUrlOnDispose;\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle,\n    getLocation: getLocation,\n    start: start,\n    dispose: dispose,\n    push: push,\n    cleanUrlOnDispose: cleanUrlOnDispose\n  });\n}","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","_defineProperty","value","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","qs","createDocumentationLink","safelyRunOnBrowser","warning","setWindowTitle","title","window","document","BrowserHistory","_ref","_this","windowTitle","_ref$writeDelay","writeDelay","createURL","parseURL","getLocation","start","dispose","push","cleanUrlOnDispose","writeTimer","_createURL","_start","_dispose","_push","_cleanUrlOnDispose","process","env","NODE_ENV","console","info","concat","name","_ref2","read","latestAcknowledgedHistory","history","qsModule","location","write","routeState","_this2","_ref3","url","clearTimeout","setTimeout","shouldWrite","pushState","inPopState","onUpdate","callback","_this3","_onPopState","_ref4","addEventListener","URL","e","_this4","isDisposed","_ref5","removeEventListener","_this5","_ref6","lastPushWasByISAfterDispose","href","historyRouter","_ref7","arguments","_ref7$createURL","_ref8","protocol","hostname","_location$port","port","pathname","hash","queryString","stringify","portWithPrefix","_ref7$parseURL","_ref9","parse","search","slice","arrayLimit","_ref7$writeDelay","_ref7$getLocation","_ref10","fallback","Error"],"sources":["C:/Users/Samue/OneDrive/Documents/University/Year 3/Computing Project/Code/RevisionWebApp/re-vision/node_modules/instantsearch.js/es/lib/routers/history.js"],"sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nimport qs from 'qs';\nimport { createDocumentationLink, safelyRunOnBrowser, warning } from \"../utils/index.js\";\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    // This function is only executed on browsers so we can disable this check.\n    // eslint-disable-next-line no-restricted-globals\n    window.document.title = title;\n  }\n};\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var _this = this;\n    var windowTitle = _ref.windowTitle,\n      _ref$writeDelay = _ref.writeDelay,\n      writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n      createURL = _ref.createURL,\n      parseURL = _ref.parseURL,\n      getLocation = _ref.getLocation,\n      start = _ref.start,\n      dispose = _ref.dispose,\n      push = _ref.push,\n      cleanUrlOnDispose = _ref.cleanUrlOnDispose;\n    _classCallCheck(this, BrowserHistory);\n    _defineProperty(this, \"$$type\", 'ais.browser');\n    /**\n     * Transforms a UI state into a title for the page.\n     */\n    _defineProperty(this, \"windowTitle\", void 0);\n    /**\n     * Time in milliseconds before performing a write in the history.\n     * It prevents from adding too many entries in the history and\n     * makes the back button more usable.\n     *\n     * @default 400\n     */\n    _defineProperty(this, \"writeDelay\", void 0);\n    /**\n     * Creates a full URL based on the route state.\n     * The storage adaptor maps all syncable keys to the query string of the URL.\n     */\n    _defineProperty(this, \"_createURL\", void 0);\n    /**\n     * Parses the URL into a route state.\n     * It should be symmetrical to `createURL`.\n     */\n    _defineProperty(this, \"parseURL\", void 0);\n    /**\n     * Returns the location to store in the history.\n     * @default () => window.location\n     */\n    _defineProperty(this, \"getLocation\", void 0);\n    _defineProperty(this, \"writeTimer\", void 0);\n    _defineProperty(this, \"_onPopState\", void 0);\n    /**\n     * Indicates if last action was back/forward in the browser.\n     */\n    _defineProperty(this, \"inPopState\", false);\n    /**\n     * Indicates whether the history router is disposed or not.\n     */\n    _defineProperty(this, \"isDisposed\", false);\n    /**\n     * Indicates the window.history.length before the last call to\n     * window.history.pushState (called in `write`).\n     * It allows to determine if a `pushState` has been triggered elsewhere,\n     * and thus to prevent the `write` method from calling `pushState`.\n     */\n    _defineProperty(this, \"latestAcknowledgedHistory\", 0);\n    _defineProperty(this, \"_start\", void 0);\n    _defineProperty(this, \"_dispose\", void 0);\n    _defineProperty(this, \"_push\", void 0);\n    _defineProperty(this, \"_cleanUrlOnDispose\", void 0);\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    this.getLocation = getLocation;\n    this._start = start;\n    this._dispose = dispose;\n    this._push = push;\n    this._cleanUrlOnDispose = typeof cleanUrlOnDispose === 'undefined' ? true : cleanUrlOnDispose;\n    if (process.env.NODE_ENV === 'development' && typeof cleanUrlOnDispose === 'undefined') {\n      // eslint-disable-next-line no-console\n      console.info(\"Starting from the next major version, InstantSearch will not clean up the URL from active refinements when it is disposed.\\n\\nWe recommend setting `cleanUrlOnDispose` to false to adopt this change today.\\nTo stay with the current behaviour and remove this warning, set the option to true.\\n\\nSee documentation: \".concat(createDocumentationLink({\n        name: 'history-router'\n      }), \"#widget-param-cleanurlondispose\"));\n    }\n    safelyRunOnBrowser(function (_ref2) {\n      var window = _ref2.window;\n      var title = _this.windowTitle && _this.windowTitle(_this.read());\n      setWindowTitle(title);\n      _this.latestAcknowledgedHistory = window.history.length;\n    });\n  }\n\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs,\n        location: this.getLocation()\n      });\n    }\n\n    /**\n     * Pushes a search state into the URL.\n     */\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this2 = this;\n      safelyRunOnBrowser(function (_ref3) {\n        var window = _ref3.window;\n        var url = _this2.createURL(routeState);\n        var title = _this2.windowTitle && _this2.windowTitle(routeState);\n        if (_this2.writeTimer) {\n          clearTimeout(_this2.writeTimer);\n        }\n        _this2.writeTimer = setTimeout(function () {\n          setWindowTitle(title);\n          if (_this2.shouldWrite(url)) {\n            if (_this2._push) {\n              _this2._push(url);\n            } else {\n              window.history.pushState(routeState, title || '', url);\n            }\n            _this2.latestAcknowledgedHistory = window.history.length;\n          }\n          _this2.inPopState = false;\n          _this2.writeTimer = undefined;\n        }, _this2.writeDelay);\n      });\n    }\n\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this3 = this;\n      if (this._start) {\n        this._start(function () {\n          callback(_this3.read());\n        });\n      }\n      this._onPopState = function () {\n        if (_this3.writeTimer) {\n          clearTimeout(_this3.writeTimer);\n          _this3.writeTimer = undefined;\n        }\n        _this3.inPopState = true;\n\n        // We always read the state from the URL because the state of the history\n        // can be incorect in some cases (e.g. using React Router).\n        callback(_this3.read());\n      };\n      safelyRunOnBrowser(function (_ref4) {\n        var window = _ref4.window;\n        window.addEventListener('popstate', _this3._onPopState);\n      });\n    }\n\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch/issues/790\n     */\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      var url = this._createURL({\n        qsModule: qs,\n        routeState: routeState,\n        location: this.getLocation()\n      });\n      if (process.env.NODE_ENV === 'development') {\n        try {\n          // We just want to check if the URL is valid.\n          // eslint-disable-next-line no-new\n          new URL(url);\n        } catch (e) {\n          process.env.NODE_ENV === 'development' ? warning(false, \"The URL returned by the `createURL` function is invalid.\\nPlease make sure it returns an absolute URL to avoid issues, e.g: `https://algolia.com/search?query=iphone`.\") : void 0;\n        }\n      }\n      return url;\n    }\n\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this4 = this;\n      if (this._dispose) {\n        this._dispose();\n      }\n      this.isDisposed = true;\n      safelyRunOnBrowser(function (_ref5) {\n        var window = _ref5.window;\n        if (_this4._onPopState) {\n          window.removeEventListener('popstate', _this4._onPopState);\n        }\n      });\n      if (this.writeTimer) {\n        clearTimeout(this.writeTimer);\n      }\n      if (this._cleanUrlOnDispose) {\n        this.write({});\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this.isDisposed = false;\n    }\n  }, {\n    key: \"shouldWrite\",\n    value: function shouldWrite(url) {\n      var _this5 = this;\n      return safelyRunOnBrowser(function (_ref6) {\n        var window = _ref6.window;\n        // We do want to `pushState` if:\n        // - the router is not disposed, IS.js needs to update the URL\n        // OR\n        // - the last write was from InstantSearch.js\n        // (unlike a SPA, where it would have last written)\n        var lastPushWasByISAfterDispose = !(_this5.isDisposed && _this5.latestAcknowledgedHistory !== window.history.length);\n        return (\n          // When the last state change was through popstate, the IS.js state changes,\n          // but that should not write the URL.\n          !_this5.inPopState &&\n          // When the previous pushState after dispose was by IS.js, we want to write the URL.\n          lastPushWasByISAfterDispose &&\n          // When the URL is the same as the current one, we do not want to write it.\n          url !== window.location.href\n        );\n      });\n    }\n  }]);\n  return BrowserHistory;\n}();\nexport default function historyRouter() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref7$createURL = _ref7.createURL,\n    createURL = _ref7$createURL === void 0 ? function (_ref8) {\n      var qsModule = _ref8.qsModule,\n        routeState = _ref8.routeState,\n        location = _ref8.location;\n      var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n      var queryString = qsModule.stringify(routeState);\n      var portWithPrefix = port === '' ? '' : \":\".concat(port);\n\n      // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n      if (!queryString) {\n        return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n      }\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n    } : _ref7$createURL,\n    _ref7$parseURL = _ref7.parseURL,\n    parseURL = _ref7$parseURL === void 0 ? function (_ref9) {\n      var qsModule = _ref9.qsModule,\n        location = _ref9.location;\n      // `qs` by default converts arrays with more than 20 items to an object.\n      // We want to avoid this because the data structure manipulated can therefore vary.\n      // Setting the limit to `100` seems a good number because the engine's default is 100\n      // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n      //\n      // Using an `arrayLimit` of `n` allows `n + 1` items.\n      //\n      // See:\n      //   - https://github.com/ljharb/qs#parsing-arrays\n      //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n      return qsModule.parse(location.search.slice(1), {\n        arrayLimit: 99\n      });\n    } : _ref7$parseURL,\n    _ref7$writeDelay = _ref7.writeDelay,\n    writeDelay = _ref7$writeDelay === void 0 ? 400 : _ref7$writeDelay,\n    windowTitle = _ref7.windowTitle,\n    _ref7$getLocation = _ref7.getLocation,\n    getLocation = _ref7$getLocation === void 0 ? function () {\n      return safelyRunOnBrowser(function (_ref10) {\n        var window = _ref10.window;\n        return window.location;\n      }, {\n        fallback: function fallback() {\n          throw new Error('You need to provide `getLocation` to the `history` router in environments where `window` does not exist.');\n        }\n      });\n    } : _ref7$getLocation,\n    start = _ref7.start,\n    dispose = _ref7.dispose,\n    push = _ref7.push,\n    cleanUrlOnDispose = _ref7.cleanUrlOnDispose;\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle,\n    getLocation: getLocation,\n    start: start,\n    dispose: dispose,\n    push: push,\n    cleanUrlOnDispose: cleanUrlOnDispose\n  });\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}