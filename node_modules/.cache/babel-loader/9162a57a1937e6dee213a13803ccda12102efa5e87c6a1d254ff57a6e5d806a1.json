{"ast":null,"code":"// Function for sending photo\nexport async function sendImage(imageSrc) {\n  const runFunction = true;\n  if (runFunction === true) {\n    try {\n      // get the image file as a blob\n      const responses = await fetch(imageSrc);\n      const blob = await responses.blob();\n\n      // create a FormData object and append the blob\n      const formData = new FormData();\n      formData.append(\"image\", blob, \"image.jpg\");\n\n      // send the request with the FormData as the body\n      const response = await fetch(\"http://sam141.brighton.domains/cloudvisionapi\", {\n        method: \"POST\",\n        body: formData\n      });\n      // handle the response\n      if (response.ok) {\n        console.log(\"Image sent successfully\");\n        console.log(response);\n      } else {\n        console.error(\"Error sending image - response as follows:\");\n        console.log(response);\n      }\n    } catch (error) {\n      console.log(\"Error when sending image - error as follows:\");\n      console.log(error);\n    }\n    ;\n  } else {\n    console.log('Not currently sending responses');\n  }\n}\n;","map":{"version":3,"names":["sendImage","imageSrc","runFunction","responses","fetch","blob","formData","FormData","append","response","method","body","ok","console","log","error"],"sources":["C:/Users/Samue/OneDrive/Documents/University/Year 3/Computing Project/Code/RevisionWebApp/re-vision/src/components/main/functions/save.js"],"sourcesContent":["// Function for sending photo\r\nexport async function sendImage(imageSrc) {\r\n    const runFunction = true;\r\n    if (runFunction === true) {\r\n        try {\r\n\r\n            // get the image file as a blob\r\n            const responses = await fetch(imageSrc);\r\n            const blob = await responses.blob();\r\n\r\n            // create a FormData object and append the blob\r\n            const formData = new FormData();\r\n            formData.append(\"image\", blob, \"image.jpg\");\r\n\r\n            // send the request with the FormData as the body\r\n            const response = await fetch(\"http://sam141.brighton.domains/cloudvisionapi\", {\r\n                method: \"POST\",\r\n                body: formData,\r\n            })\r\n            // handle the response\r\n            if (response.ok) {\r\n                console.log(\"Image sent successfully\");\r\n                console.log(response);\r\n            } else {\r\n                console.error(\"Error sending image - response as follows:\");\r\n                console.log(response);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(\"Error when sending image - error as follows:\");\r\n            console.log(error);\r\n        };\r\n    } else {\r\n        console.log('Not currently sending responses');\r\n    }\r\n};"],"mappings":"AAAA;AACA,OAAO,eAAeA,SAASA,CAACC,QAAQ,EAAE;EACtC,MAAMC,WAAW,GAAG,IAAI;EACxB,IAAIA,WAAW,KAAK,IAAI,EAAE;IACtB,IAAI;MAEA;MACA,MAAMC,SAAS,GAAG,MAAMC,KAAK,CAACH,QAAQ,CAAC;MACvC,MAAMI,IAAI,GAAG,MAAMF,SAAS,CAACE,IAAI,CAAC,CAAC;;MAEnC;MACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEH,IAAI,EAAE,WAAW,CAAC;;MAE3C;MACA,MAAMI,QAAQ,GAAG,MAAML,KAAK,CAAC,+CAA+C,EAAE;QAC1EM,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEL;MACV,CAAC,CAAC;MACF;MACA,IAAIG,QAAQ,CAACG,EAAE,EAAE;QACbC,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC;QACtCD,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;MACzB,CAAC,MAAM;QACHI,OAAO,CAACE,KAAK,CAAC,4CAA4C,CAAC;QAC3DF,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC;MACzB;IAEJ,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZF,OAAO,CAACC,GAAG,CAAC,8CAA8C,CAAC;MAC3DD,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IACtB;IAAC;EACL,CAAC,MAAM;IACHF,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;EAClD;AACJ;AAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}